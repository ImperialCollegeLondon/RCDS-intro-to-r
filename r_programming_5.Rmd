# Data Visualisation in R

Graphical tools help us understand a dataset. Our ability to interpret patterns visually is a key strength in data analysis.

Thee are two basic types of data visualisations:

1. Exploratory visualisations help us understand the data.
2. Explanatory visualisations help us share our understanding with others.

Let's try some exploration of the `mlb_players` dataset.

```{r}

mlb <- read.csv("mlb_players.csv")

bmi <- function(lbs, inches){
  ms <- 0.0254 * inches
  kgs <- 0.45359 * lbs
  kgs / (ms^2)
}

mlb$BMI <- bmi(mlb$Weight.lbs, mlb$Height.inches)

```


## Histogram

Histograms are generated by the function `hist()` using a default binning strategy.
To specify the number of bins, modify the argument `breaks`.
```{r}
hist(mlb$BMI, breaks = 10, col="grey")
```

Alternatively, we can specify the individual breakpoints by providing `breaks` as a vector.
```{r}
hist(mlb$BMI, breaks = c(min(mlb$BMI),25,30,max(mlb$BMI)), col=c("green","yellow","red"), main="MLB Players", xlab="BMI")
```

Note the additional optional arguments for the title and x-axis label.


#### Exercise 5a {-}

Try out some histograms for the other continuous variables in the dataset.
```{r}

```


## Bar plot

For categorial variables, we first need to construct a frequency table, which can then be used with the `barplot()` function.
The optional argument `las=2` rotates the labels through 90$^{\circ}$
```{r}
freq <- table(mlb$Team)
barplot(freq, las=2)
```



## Scatter plot

We can easily construct a 2D scatter plot. Here, a regression line is constructed using the `lm()` function, which fits linear models.
```{r}
plot(mlb$Age, mlb$BMI, xlab="Age", ylab="BMI")

# Add a regression line
abline(lm(mlb$BMI ~ mlb$Age), col="red")
```

## Box plot

R can easily make box-and-whisker plots for a continuous variable, split between the levels of a factor, e.g.
```{r}
boxplot(mlb$BMI ~ mlb$Position, las=2, horizontal=TRUE, cex.axis=0.5, xlab="BMI", ylab="Position")
```

Here, we use `cex.axis=0.5` to reduce the size of the labels.
By default, the whiskers show the most extreme datum that is still within 1.5$\times$ the interquartile range.

